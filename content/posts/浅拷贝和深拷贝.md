---
date: '2025-10-29T15:22:59+08:00'
draft: true
title: '浅拷贝和深拷贝'
tags: ["深入浅出", "浅拷贝和深拷贝"]
categories: ["js"]
---


## 区别

js 两大数据类型：基本类型，引用类型

前者的数据保存在栈中，后者的的变量是一个指向堆内存中实际对象的引用，存在栈中

## 浅拷贝

通俗的讲，就是创建新数据，这个数据有着原始数据属性值的一份拷贝

如果属性时基本类型，拷贝的就是基本类型的值，如果属性是引用属性，拷贝的就是地址

浅拷贝只拷贝一层，深层次的引用类型则共享内存地址

code：
```js
function shallowClone(obj) {
    const newObj = {};
    for(let prop in obj) {
        if(obj.hasOwnProperty(prop)){
            newObj[prop] = obj[prop];
        }
    }
    return newObj;
}
```
`存在浅拷贝的现象`： Object.assign()  \  slice()   \  concat \  拓展运算符


## 深拷贝

深拷贝会开一个新的栈，两个对象属性完全相同，但是对应的地址不同，修改一个对象，另一个对象的属性不会有变化

常见的深拷贝的方式：

_.cloneDeep()       jQuery.extend()     JSON.stringify()    手写循环递归

## 区别

都创建出一个新对象，

浅拷贝：只复制属性指向某个对象的指针，不复制对象本身，新旧对象还是共享同一块内存，修改对象属性会影响原对象（一个奶茶两个吸管）

深拷贝：新对象和原对象不共享内存，互不影响（两杯奶茶两个吸管）


